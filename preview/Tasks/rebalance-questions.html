<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2015">
<meta name="DC.rights.owner" content="(C) Copyright 2015">
<meta name="DC.Type" content="concept">
<meta name="description" content="Common questions and answers about the rebalancing operation are addressed."><meta name="DC.Relation" scheme="URI" content="../Tasks/tasks-rebalance.html">
<meta name="DC.Relation" scheme="URI" content="../Tasks/rebalance-factors.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="concept_fz1_vxf_q4">
<link rel="stylesheet" type="text/css" href="../commonltr.css">
<title>Common rebalancing questions</title>
</head>
<body id="concept_fz1_vxf_q4">


 <h1 class="title topictitle1">Common rebalancing questions</h1>

 
 <div class="body conbody"><p class="shortdesc">Common questions and answers about the rebalancing operation are addressed.</p>



 
   <div class="section"><h2 class="title sectiontitle">How long will rebalancing take?</h2>

  <p class="p">Because the rebalancing operation moves data stored in RAM and on disk, and continues while the
   cluster is still servicing client requests, the time required to perform the rebalancing
   operation is unique to each cluster. Other factors, such as the size and number of objects, speed
   of the underlying disks used for storage, and the network bandwidth and capacity will also impact
   the rebalance speed.</p>

  <p class="p">Busy clusters may take a significant amount of time to complete the rebalance operation.
   Similarly, clusters with a large quantity of data to be moved between nodes on the cluster will
   also take some time for the operation to complete. A busy cluster with lots of data may take a
   significant amount of time to fully rebalance.</p>

   </div>

  
  
  
   <div class="section"><h2 class="title sectiontitle">How many nodes can be added or removed?</h2>
  
  <p class="p">Functionally there is no limit to the number of nodes that can be added or removed in one
   operation. However, from a practical level you should be conservative about the numbers of nodes
   being added or removed at one time.</p>

    <ul class="ul">
     <li class="li">When expanding your cluster, adding more nodes and performing fewer rebalances is the recommend
      practice.</li>

     <li class="li">When removing nodes, you should take care to ensure that you do not remove too many nodes and
      significantly reduce the capability and functionality of your cluster.</li>

    </ul>

  <p class="p">Remember as well that you can remove nodes, and add nodes, simultaneously. If you are planning
   on performing a number of addition and removals simultaneously, it is better to add and remove
   multiple nodes and perform one rebalance, than to perform a rebalance operation with each
   individual move.</p>

  <p class="p">If you are swapping out nodes for servicing, then you can use this method to keep the size and
   performance of your cluster constant.</p>

   </div>

  
  

   <div class="section"><h2 class="title sectiontitle">Will cluster performance be affected during a rebalance?</h2>
  
  <p class="p">By design, there should not be any significant impact on the performance of your application.
   However, it should be obvious that a rebalance operation implies a significant additional load on
   the nodes in your cluster, particularly the network and disk I/O performance as data is
   transferred between the nodes.</p>

  <p class="p">Ideally, you should perform a rebalance operation during the quiet periods to reduce the impact
   on your running applications.</p>

   </div>

  
  

   <div class="section"><h2 class="title sectiontitle">Can I stop a rebalance operation?</h2>
  
  <p class="p">The vBuckets within the cluster are moved individually. This means that you can stop a
   rebalance operation at any time. Only the vBuckets that have been fully migrated will have been
   made active. You can re-start the rebalance operation at any time to continue the process.
   Partially migrated vBuckets are not activated.</p>

  <p class="p">The one exception to this rule is when removing nodes from the cluster. Stopping the rebalance
   cancels their removal. You will need to mark these nodes again for removal before continuing the
   rebalance operation.</p>

  <p class="p">To ensure that the necessary clean up occurs, stopping a rebalance incurs a five minute grace
   period before the rebalance can be restarted. This ensures that the cluster is in a fixed state
   before rebalance is requested again.</p>

   </div>


 </div>

<nav class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Tasks/tasks-rebalance.html" title="Rebalancing is the process of redistributing information across nodes.">Rebalancing</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../Tasks/rebalance-factors.html" title="Choosing when, why, and how to rebalance your cluster depends on the scenario.">Rebalancing factors</a></div>
</div>
</nav>
</body>
</html>