<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2015">
<meta name="DC.rights.owner" content="(C) Copyright 2015">
<meta name="DC.Type" content="reference">
<meta name="description" content="To retrieve views information, access any server node in a cluster on port 8092."><meta name="DC.Relation" scheme="URI" content="../REST/rest-views-intro.html">
<meta name="DC.Relation" scheme="URI" content="../REST/rest-ddocs-delete.html">
<meta name="DC.Relation" scheme="URI" content="../REST/rest-views-requests.html">
<meta name="DC.Relation" scheme="URI" content="../Views/views-intro.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rest-views-get">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../commonltr.css">
<title>Getting views information</title>
</head>
<body id="rest-views-get">


	<h1 class="title topictitle1">Getting views information</h1>

	
	<div class="body refbody"><p class="shortdesc">To retrieve views information, access any server node in a cluster on port
		8092.</p>

		
		<div class="section"><h2 class="title sectiontitle">HTTP method and
				URI</h2><pre class="pre codeblock">GET /[bucket-name]/_design/[ddoc-name]/_view/[view-name]</pre>
<p class="p">Where:</p>
<ul class="ul">
				<li class="li">bucket-name is the name of the bucket.</li>

				<li class="li">ddoc-name is the name of the design document that contains the view.</li>

				<li class="li">view-name is the name of the corresponding view within the design document.</li>

			</ul>
<p class="p">Development view, the <samp class="ph codeph">ddoc-name</samp> is prefixed with
					<samp class="ph codeph">dev_</samp>. For example, the design document <samp class="ph codeph">beer</samp> is
				accessible as a development view using <samp class="ph codeph">dev_beer</samp>.</p>
<p class="p">Production
				views are accessible using their name only.</p>

<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
					
					
					<tbody class="tbody">
						<tr class="row">
							<td class="entry" valign="top" width="50%"><strong class="ph b">Request data</strong></td>

							<td class="entry" valign="top" width="50%">None</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%"><strong class="ph b">Response data</strong></td>

							<td class="entry" valign="top" width="50%">JSON of the rows returned by the view</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%"><strong class="ph b">Authentication required</strong></td>

							<td class="entry" valign="top" width="50%">No</td>

						</tr>

					</tbody>

				</table>
</div>

			
			<p class="p">Parameters (optional):</p>

			
			
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 1. Views parameters</span></caption>
					
					
					
					<thead class="thead" align="left">
						<tr class="row">
							<th class="entry" valign="top" width="16.778523489932887%" id="d100853e112">Parameters</th>

							<th class="entry" valign="top" width="16.778523489932887%" id="d100853e115">Type</th>

							<th class="entry" valign="top" width="66.44295302013423%" id="d100853e118">Description</th>

						</tr>

					</thead>

					<tbody class="tbody">
						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">descending</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">boolean</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Return the documents in descending by key order.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">endkey</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">string</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Stop returning records when the specified key is reached. Key
								must be specified as a JSON value.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">endkey_docid</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">string</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Stop returning records when the specified document ID is
								reached.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">full_set</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">boolean</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Use the full cluster data set (development views only).</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">group</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">boolean</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Group the results using the reduce function to a group or single row. Note: Do not use
								<samp class="ph codeph">group</samp> with <samp class="ph codeph">group_level</samp> because they are not compatible.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">group_level</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">numeric</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Specify the group level to be used. Note: Do not use
								<samp class="ph codeph">group_level</samp> with <samp class="ph codeph">group</samp> because they are not compatible.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">inclusive_end</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">boolean</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Specifies whether the specified end key is included in the result. 
								Note: Do not use <samp class="ph codeph">inclusive_end</samp> with <samp class="ph codeph">key</samp> 
							or <samp class="ph codeph">keys</samp>.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">key</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">string</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Return only documents that match the specified key. Key must be
								specified as a JSON value.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">keys</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">array</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Return only documents that match each of keys specified within
								the given array. Key must be specified as a JSON value. Sorting is
								not applied when using this option.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">limit</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">numeric</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Limit the number of the returned documents to the specified
								number.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">on_error</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">string</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Sets the response in the event of an error. <div class="p">Supported values: <ul class="ul">
										<li class="li"><samp class="ph codeph">continue</samp> : Continue to generate view
											information in the event of an error, including the
											error information in the view response stream.</li>

										<li class="li"><samp class="ph codeph">stop</samp> : Stop immediately when an error
											condition occurs. No further view information is
											returned.</li>

									</ul>
</div>

							</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">reduce</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">boolean</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Use the reduction function.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">skip</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">numeric</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Skip this number of records before starting to return the
								results.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">stale</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">string</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Allow the results from a stale view to be used. <div class="p">Supported
									values: <ul class="ul">
										<li class="li"><samp class="ph codeph">false</samp> : Force a view update before
											returning data.</li>

										<li class="li"><samp class="ph codeph">ok</samp> : Allow stale views.</li>

										<li class="li"><samp class="ph codeph">update_after</samp> : Allow stale view, update
											view after it has been accessed.</li>

									</ul>
</div>
</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">startkey</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">string</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Return records with a value equal to or greater than the
								specified key. Key must be specified as a JSON value.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e112 "><samp class="ph codeph">startkey_docid</samp></td>

							<td class="entry" valign="top" width="16.778523489932887%" headers="d100853e115 ">string</td>

							<td class="entry" valign="top" width="66.44295302013423%" headers="d100853e118 ">Return records starting with the specified document ID.</td>

						</tr>

					</tbody>

				</table>
</div>
</div>

		
		<div class="section"><h2 class="title sectiontitle">Syntax</h2>
			<p class="p">Curl request syntax:</p>

			<pre class="pre codeblock">GET http://[localhost]:8092/[bucket-name]/_design/[ddoc-name]/_view/[view-name]</pre>

			
			<p class="p">To access a view stored within an SASL password-protected bucket, include the bucket name and
				bucket password within the URL of the request:</p>

			<pre class="pre codeblock">GET http://[bucket-name]:[password]@[localhost]:8092/[bucket-name]/_design/[ddoc-name]/_view/[view-name]
</pre>

			<div class="note note"><span class="notetitle">Note:</span> Additional arguments to the URL request can be used to select information from the view,
				and provide limit, sorting and other options.</div>

			
			<p class="p">To output only ten items:</p>

			<pre class="pre codeblock">GET http://[localhost]:8092/[bucket-name]/_design/[ddoc-name]/_view/[view-name]?limit=10
</pre>

			<div class="note important"><span class="importanttitle">Important:</span> The formatting of the URL follows the HTTP specification. The first argument is 
				separated from the base URL using a question mark ( <samp class="ph codeph">?</samp> ). Additional
				arguments are separated using an ampersand ( <samp class="ph codeph">&amp;</samp> ). Special
				characters are quoted or escaped according to the HTTP standard rules.</div>

			

		</div>

		
		<div class="section"><h2 class="title sectiontitle">Example</h2>
			<p class="p">Curl request example:</p>

			<p class="p">In the following example, an empty development view is created with a view name,
				ruthView, and a design document name, _design/dev_ruth in the bucket, test2.</p>

			
			<pre class="pre codeblock">curl -u Administrator:password -X GET 
	http://10.5.2.117:8092/test2/_design/dev_ruth/_view/ruthView
			</pre>

			

		</div>

		
		<div class="section"><h2 class="title sectiontitle">Response</h2>
			<p class="p">View responses are JSON structures containing information about
				the number of rows in the view and the individual view information.</p>

				
				<p class="p">The following shows an empty View result from the previous example.</p>

				
				<pre class="pre codeblock">{
    "rows": [], 
    "total_rows": 0
}</pre>

				<p class="p">The following shows a populated View result:</p>

				
				<pre class="pre codeblock">{
  "total_rows": 576,
  "rows" : [
      {"value" : 13000, "id" : "James", "key" : ["James", "Paris"] },
      {"value" : 20000, "id" : "James", "key" : ["James", "Tokyo"] },
      {"value" : 5000,  "id" : "James", "key" : ["James", "Paris"] },
…
    ]
}
</pre>
<p class="p">The
				JSON response returns the following fields:</p>
<ul class="ul">
				<li class="li">total_rows<p class="p">A count of the number of rows of information within the stored
						View. This shows the number of rows in the full View index, not the number
						of rows in the returned data set.</p>
</li>

				<li class="li">rows<p class="p">An array, with each element of the array containing the returned view data,
						consisting of the value, document ID that generated the row, and the
						key.</p>
</li>

			</ul>
<p class="p">In the event of an error or incorrect parameters, the HTTP response is a JSON
				structure with a basic <samp class="ph codeph">error</samp> field and a more detailed
					<samp class="ph codeph">reason</samp> field. For
				example:</p>
<pre class="pre codeblock">{
  "error":"bad_request",
  "reason":"invalid UTF-8 JSON: {{error,{1,\"lexical error: invalid char in json text.\\n\"}},\n\"Paris\"}"
}
</pre>
<div class="note note"><span class="notetitle">Note:</span> With client libraries, error response behavior might differ between
				client SDKs, but in all cases, an invalid query triggers an error or
				exception.</div>
</div>

		
	</div>

	<nav class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../REST/rest-views-intro.html" title="The Views REST API is used to index and query JSON documents.">Views API</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../REST/rest-ddocs-delete.html" title="To delete a design document, use the DELETE /buckets/_design/[ddocs-name] HTTP request and URI on the 8092 port.">Deleting design documents</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../REST/rest-views-requests.html" title="To limit the number of simultaneous view request on a server node, use the &gt;POST /internalSettings HTTP method and URI and a port-related request parameter.">Limiting views requests</a></div>
</div>

<div class="linklist linklist">
<div><a class="link" href="../Views/views-intro.html" title="Couchbase views enable indexing and querying of data.">Views and indexes</a></div></div>
</nav>

</body>
</html>