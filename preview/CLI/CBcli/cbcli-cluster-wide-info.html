<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2015">
<meta name="DC.rights.owner" content="(C) Copyright 2015">
<meta name="DC.Type" content="concept">
<meta name="description" content="You can start, stop, and view status of a diagnostics collection by using the couchbase-cli tool."><meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="concept_dp4_b4l_34">
<link rel="stylesheet" type="text/css" href="../../commonltr.css">
<title>Diagnostics with couchbase-cli</title>
</head>
<body id="concept_dp4_b4l_34">


	<h1 class="title topictitle1">Diagnostics with couchbase-cli</h1>

	
	<div class="body conbody"><p class="shortdesc">You can start, stop, and view status of a diagnostics collection by using the <samp class="ph codeph">couchbase-cli</samp> tool.</p>

		<div class="section"><h2 class="title sectiontitle">Start log collection command</h2>
			
			<p class="p">The start log collection command initiates a log collection process. You must specify
				whether to collect logs from all nodes or only specified nodes. You can optionally
				request the logs to be uploaded to Couchbase. If you request an upload to Couchbase, you
				must include the name of your organization and optionally a support ticket number. The
				command uses the following syntax:</p>

			<span class="ph synph">
				<span class="keyword kwd">couchbase-cli</span>
				<span class="keyword kwd">collect-logs-start</span>
				<span class="keyword option">-c</span>
				<span class="ph var">host</span>:8091 <span class="keyword option">-u</span>
				<span class="ph var">username</span>
				<span class="keyword option">-p</span>
				<span class="ph var">password</span>
				<span class="ph delim">{</span>
				<span class="keyword option">--nodes</span><span class="ph oper">=</span><span class="ph var">node1,node2,...</span>
				<span class="ph delim">|</span>
				<span class="keyword option">--all-nodes</span>
				<span class="ph delim">}</span> [--upload <span class="keyword option">--upload-host</span><span class="ph delim">=</span><span class="ph var">host</span>
				<span class="keyword option">--customer</span><span class="ph oper">=</span><span class="ph var">name</span>
					[<span class="keyword option">--ticket</span><span class="ph oper">=</span><span class="ph var">ticketNumber</span> ] ] </span>
		</div>


		<div class="section"><h2 class="title sectiontitle">Stop log collection command</h2>
			
			<p class="p">The stop log collection command cancels collection on each node. It uses the following
				syntax:</p>

			<span class="ph synph">
				<span class="keyword kwd">couchbase-cli</span>
				<span class="keyword kwd">collect-logs-stop</span>
				<span class="keyword option">-c</span>
				<span class="ph var">host</span>:8091 <span class="keyword option">-u</span>
				<span class="ph var">username</span>
				<span class="keyword option">-p</span>
				<span class="ph var">password</span>
			</span>
		</div>


		<div class="section"><h2 class="title sectiontitle">Report log collection status command</h2>
			
			<p class="p">The report log collection status command returns information about each node. It uses
				the following syntax:</p>

			<span class="ph synph">
				<span class="keyword kwd">couchbase-cli</span>
				<span class="keyword kwd">collect-logs-status</span>
				<span class="keyword option">-c</span>
				<span class="ph var">host</span>:8091 
				<span class="keyword option">-u</span>
				<span class="ph var">username</span>
				<span class="keyword option">-p</span>
				<span class="ph var">password</span>
			</span>
		</div>

	</div>


</body>
</html>