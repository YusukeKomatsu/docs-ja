<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2015">
<meta name="DC.rights.owner" content="(C) Copyright 2015">
<meta name="DC.Type" content="reference">
<meta name="description" content="To delete buckets, use the DELETE /pools/default/buckets/[bucket-name] HTTP method and URI."><meta name="DC.Relation" scheme="URI" content="../REST/rest-bucket-intro.html">
<meta name="DC.Relation" scheme="URI" content="../REST/rest-bucket-memory-quota.html">
<meta name="DC.Relation" scheme="URI" content="../REST/rest-bucket-flush.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rest-bucket-delete">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../commonltr.css">
<title>Deleting buckets</title>
</head>
<body id="rest-bucket-delete">


	<h1 class="title topictitle1">Deleting buckets</h1>

	
	
	<div class="body refbody"><p class="shortdesc">To delete buckets, use the <samp class="ph codeph">DELETE /pools/default/buckets/[bucket-name]</samp>
		HTTP method and URI.</p>

		
		<div class="section"><h2 class="title sectiontitle">Description</h2>
			<p class="p">Bucket deletion is a synchronous operation. When a cluster has multiple servers, some servers
				might not be able to delete the bucket within the standard 30 second timeout period.</p>

			<ul class="ul">
				<li class="li">If the bucket is deleted on all servers within the standard timeout of 30 seconds, 
					a <samp class="ph codeph">200</samp> response code is returned. </li>

				<li class="li">If the bucket is not deleted on all servers within the 30 second timeout, 
					a <samp class="ph codeph">500</samp> error code is returned.</li>

				<li class="li">If the bucket is not deleted on all servers and another request is made to delete the bucket, 
					a <samp class="ph codeph">404</samp> error code is returned.</li>

				<li class="li">If the bucket is not deleted on all servers and a request is made to crate a new bucket with the same name, 
				an error might be returned indicating that the bucket is still being deleted.</li>

			</ul>

			
			<div class="note warning"><span class="warningtitle">Warning:</span>  This operation is data destructive. 
				The service makes no attempt to double check with the user. 
				It simply moves forward. 
				Clients applications performing the delete operation are advised to double
				check with the end user before sending the request.</div>

		</div>

		
		<div class="section"><h2 class="title sectiontitle">HTTP method and URI</h2>

			<pre class="pre codeblock">DELETE /pools/default/buckets/[bucket-name]</pre>

			
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
				
				
				<tbody class="tbody">
					<tr class="row">
						<td class="entry" valign="top" width="50%"><strong class="ph b">Request data</strong></td>

						<td class="entry" valign="top" width="50%">None</td>

					</tr>

					<tr class="row">
						<td class="entry" valign="top" width="50%"><strong class="ph b">Response data</strong></td>

						<td class="entry" valign="top" width="50%">None</td>

					</tr>

					<tr class="row">
						<td class="entry" valign="top" width="50%"><strong class="ph b">Authentication required</strong></td>

						<td class="entry" valign="top" width="50%">Yes</td>

					</tr>

				</tbody>

			</table>
</div>

		
		
			
		</div>

		
		<div class="section"><h2 class="title sectiontitle">Syntax</h2>
			<p class="p">Curl request syntax:</p>

			<pre class="pre codeblock">curl -u [admin]:[password]
http://[localhost]:8091//pools/default/buckets/[bucket-name]</pre>

			
			<p class="p">Raw HTTP request syntax:</p>

			<pre class="pre codeblock">DELETE /pools/default/buckets/[bucket-name]
Host: [localhost]:8091
Authorization: Basic xxxxxxxxxxxxxxxxxxx
</pre>

		</div>

		
		<div class="section"><h2 class="title sectiontitle">Example</h2>
			<p class="p">Curl request example to delete the bucket named myTestBucket:</p>

			<pre class="pre codeblock">curl -u Administrator:password
http://10.5.2.54:8091/pools/default/buckets/myTestBucket</pre>

			
			<p class="p">Raw HTTP request example to delete the bucket named myTestBucket:</p>

			<pre class="pre codeblock">DELETE /pools/default/buckets/myTestBucket
Host: 10.5.2.54:8091
Authorization: Basic xxxxxxxxxxxxxxxxxxx
</pre>

		</div>

		

	
	<div class="section"><h2 class="title sectiontitle">Response codes</h2>
		
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
					
					
					<thead class="thead" align="left">
						<tr class="row">
							<th class="entry" valign="top" width="25.97402597402597%" id="d86792e154">Response codes</th>

							<th class="entry" valign="top" width="74.02597402597402%" id="d86792e157">Description</th>

						</tr>

					</thead>

					<tbody class="tbody">
						<tr class="row">
							<td class="entry" valign="top" width="25.97402597402597%" headers="d86792e154 ">200</td>

							<td class="entry" valign="top" width="74.02597402597402%" headers="d86792e157 ">OK Bucket Deleted on all nodes</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="25.97402597402597%" headers="d86792e154 ">401</td>

							<td class="entry" valign="top" width="74.02597402597402%" headers="d86792e157 ">Unauthorized</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="25.97402597402597%" headers="d86792e154 ">404</td>

							<td class="entry" valign="top" width="74.02597402597402%" headers="d86792e157 ">Object Not Found</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="25.97402597402597%" headers="d86792e154 ">500</td>

							<td class="entry" valign="top" width="74.02597402597402%" headers="d86792e157 ">Bucket could not be deleted on all nodes</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="25.97402597402597%" headers="d86792e154 ">503</td>

							<td class="entry" valign="top" width="74.02597402597402%" headers="d86792e157 ">Buckets cannot be deleted during a rebalance</td>

						</tr>

					</tbody>

				</table>
</div>

	</div>

		
	</div>

<nav class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../REST/rest-bucket-intro.html" title="The Buckets REST API creates, deletes, flushes, and retrieves information about buckets and bucket operations.">Buckets API</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../REST/rest-bucket-memory-quota.html" title="To increase or decrease bucket memory quota, use the POST /pools/default/buckets/newBucket HTTP method and URI and the ramQuotaMB option.">Changing bucket memory quota</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../REST/rest-bucket-flush.html" title="To flush all buckets, use the POST /pools/default/buckets/default/controller/doFlush HTTP method and URI.">Flushing buckets</a></div>
</div>
</nav>
</body>
</html>