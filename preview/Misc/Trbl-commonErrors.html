<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2015">
<meta name="DC.rights.owner" content="(C) Copyright 2015">
<meta name="DC.Type" content="topic">
<meta name="description" content="Common errors encountered include issues when starting Couchbase server for the first time."><meta name="DC.Relation" scheme="URI" content="../Misc/Trbl-intro.html">
<meta name="DC.Relation" scheme="URI" content="../Misc/Trbl-generalTips.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="topic1393">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../commonltr.css">
<title>Common errors</title>
</head>
<body id="topic1393">


  <h1 class="title topictitle1">Common errors</h1>

  
  <div class="body"><p class="shortdesc">Common errors encountered include issues when starting Couchbase server for the first time.</p>

    <p class="p">This page will attempt to describe and resolve some common errors that are encountered when
      using Couchbase. It will be a living document as new problems and resolutions are
      discovered.</p>

    
      <div class="section"><h2 class="title sectiontitle">Problems Starting Couchbase Server for the first time</h2>
    
    <p class="p">If you are having problems starting Couchbase Server on Linux for the first time, there are
      two very common causes of this that are actually quite related. When the
        <samp class="ph codeph">/etc/init.d/couchbase-server</samp> script runs, it tries to set the file
      descriptor limit and core file size limit:</p>

    <pre class="pre codeblock">
&gt; ulimit -n 10240 ulimit -c unlimited

</pre>

    <p class="p">Depending on the defaults of your system, this may or may not be allowed. If Couchbase Server
      is failing to start, you can look through the logs and pick out one or both of these
      messages:</p>

    <pre class="pre codeblock">
ns_log: logging ns_port_server:0:Port server memcached on node 'ns_1@127.0.0.1' exited with status 71. »
Restarting. Messages: failed to set rlimit for open files. »
Try running as root or requesting smaller maxconns value.
</pre>

    <p class="p">Alternatively, you may additionally see or optionally see:</p>

    <pre class="pre codeblock">
ns_port_server:0:info:message - Port server memcached on node 'ns_1@127.0.0.1' exited with status 71. »
Restarting. Messages: failed to ensure corefile creation

</pre>

    <p class="p">The resolution to these is to edit the /etc/security/limits.conf file and add these
      entries:</p>

    <pre class="pre codeblock">
couchbase hard nofile 10240
couchbase hard core unlimited
</pre>

      </div>

  </div>

<nav class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Misc/Trbl-intro.html" title="トラブルシューティングの一般的なヒント、一般的なエラー、ログ情報、およびその他の問題について説明します。">トラブルシューティング</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../Misc/Trbl-generalTips.html" title="General tips include various initial diagnostics activities.">General tips</a></div>
</div>
</nav>
</body>
</html>