<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2015">
<meta name="DC.rights.owner" content="(C) Copyright 2015">
<meta name="DC.Type" content="reference">
<meta name="description" content="The cbstats timings command provides timing statistics."><meta name="DC.Relation" scheme="URI" content="../../CLI/cbstats-intro.html">
<meta name="DC.Relation" scheme="URI" content="../../CLI/CBstats/cbstats-tap.html">
<meta name="DC.Relation" scheme="URI" content="../../CLI/CBstats/cbstats-uuid.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="cbstats-timing">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../../commonltr.css">
<title>Timings</title>
</head>
<body id="cbstats-timing">


  <h1 class="title topictitle1">Timings</h1>

  
  <div class="body refbody"><p class="shortdesc">The <samp class="ph codeph">cbstats timings</samp> command provides timing statistics.</p>

    <div class="section"><h2 class="title sectiontitle">Description</h2>
    <p class="p">Timing stats provide histogram data from high resolution timers over various operations
      within the system.</p>

    </div>

    
    <div class="section"><h2 class="title sectiontitle">Syntax</h2>
      <p class="p">To request the timings statistic, use the following syntax:</p>

      <pre class="pre codeblock">cbstats [host]:[dataport] timings</pre>

    </div>

    
    <div class="section"><h2 class="title sectiontitle">Example</h2>
      
      <p class="p">The following example, uses the 10.5.2.117 host and the default port, 11210:</p>

      <pre class="pre codeblock">cbstats 10.5.2.117:11210 timings</pre>

    </div>

    
    <div class="section"><h2 class="title sectiontitle">Response</h2>
    
    <p class="p">The following is sample output from <samp class="ph codeph">cbstats timings</samp> :</p>

    <pre class="pre codeblock">
disk_commit (1024 total)
    0 - 1s : (100.00%) 1024 ###################################################
    Avg    : (     1s)
 get_stats_cmd (30663276 total)
    0 - 1us       : (  0.05%)    14827 
    1us - 2us     : (  6.56%)  1995778 ##
    2us - 4us     : ( 41.79%) 10804626 ##############
    4us - 8us     : ( 45.20%)  1044043 #
    8us - 16us    : ( 45.49%)    89929 
    16us - 32us   : ( 45.90%)   124472 
    32us - 64us   : ( 46.38%)   148935 
    64us - 128us  : ( 56.17%)  2999690 ###
    128us - 256us : ( 68.57%)  3804009 ####
    256us - 512us : ( 69.91%)   411281 
    512us - 1ms   : ( 78.77%)  2717402 ###
    1ms - 2ms     : ( 96.36%)  5391526 #######
    2ms - 4ms     : ( 99.05%)   826345 #
    4ms - 8ms     : ( 99.96%)   278727 
    8ms - 16ms    : (100.00%)    11443 
    16ms - 32ms   : (100.00%)      217 
    32ms - 65ms   : (100.00%)       19 
    65ms - 131ms  : (100.00%)        7 
    Avg           : (  347us)
 disk_vbstate_snapshot (93280 total)
    32us - 64us   : ( 15.34%) 14308 ######
    64us - 128us  : ( 74.74%) 55413 #########################
    128us - 256us : ( 91.39%) 15532 #######
    256us - 512us : ( 95.69%)  4007 #
    512us - 1ms   : ( 99.49%)  3546 #
    1ms - 2ms     : ( 99.95%)   423 
    2ms - 4ms     : ( 99.99%)    43 
    4ms - 8ms     : (100.00%)     4 
    2s - 4s       : (100.00%)     4 
    Avg           : (  190us)
 notify_io (4 total)
    4us - 8us   : ( 25.00%) 1 ############
    16us - 32us : ( 75.00%) 2 ########################
    32us - 64us : (100.00%) 1 ############
    Avg         : (   17us)

</pre>


    <p class="p">The following are the possible return values provided by <samp class="ph codeph">cbstats
      timings</samp>. The return values provided by this command depend on what has actually
      occurred on a data bucket:</p>

    
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
        
        
        <thead class="thead" align="left">
          <tr class="row">
            <th class="entry" valign="top" width="50%" id="d26135e79">Values</th>

            <th class="entry" valign="top" width="50%" id="d26135e82">Description</th>

          </tr>

        </thead>

        <tbody class="tbody">
          <tr class="row">
            <td class="entry" valign="top" width="50%" headers="d26135e79 ">bg_load</td>

            <td class="entry" valign="top" width="50%" headers="d26135e82 ">Background fetches waiting for disk</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="50%" headers="d26135e79 ">bg_wait</td>

            <td class="entry" valign="top" width="50%" headers="d26135e82 ">Background fetches waiting in the dispatcher queue</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="50%" headers="d26135e79 ">data_age</td>

            <td class="entry" valign="top" width="50%" headers="d26135e82 ">Age of data written to disk</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="50%" headers="d26135e79 ">disk_commit</td>

            <td class="entry" valign="top" width="50%" headers="d26135e82 ">Time waiting for a commit after a batch of updates</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="50%" headers="d26135e79 ">disk_del</td>

            <td class="entry" valign="top" width="50%" headers="d26135e82 ">Wait for disk to delete an item</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="50%" headers="d26135e79 ">disk_insert</td>

            <td class="entry" valign="top" width="50%" headers="d26135e82 ">Wait for disk to store a new item</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="50%" headers="d26135e79 ">disk_vbstate_snapshot</td>

            <td class="entry" valign="top" width="50%" headers="d26135e82 ">Time spent persisting vbucket state changes</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="50%" headers="d26135e79 ">disk_update</td>

            <td class="entry" valign="top" width="50%" headers="d26135e82 ">Wait time for disk to modify an existing item</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="50%" headers="d26135e79 ">get_cmd</td>

            <td class="entry" valign="top" width="50%" headers="d26135e82 ">Servicing get requests</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="50%" headers="d26135e79 ">get_stats_cmd</td>

            <td class="entry" valign="top" width="50%" headers="d26135e82 ">Servicing get_stats requests</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="50%" headers="d26135e79 ">set_vb_cmd</td>

            <td class="entry" valign="top" width="50%" headers="d26135e82 ">Servicing vbucket set state commands</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="50%" headers="d26135e79 ">item_alloc_sizes</td>

            <td class="entry" valign="top" width="50%" headers="d26135e82 ">Item allocation size counters (in bytes)</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="50%" headers="d26135e79 ">notify_io</td>

            <td class="entry" valign="top" width="50%" headers="d26135e82 ">Time for waking blocked connections</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="50%" headers="d26135e79 ">storage_age</td>

            <td class="entry" valign="top" width="50%" headers="d26135e82 ">Time since most recently persisted item was initially queued for
              storage.</td>

          </tr>

          <tr class="row">
            <td class="entry" valign="top" width="50%" headers="d26135e79 ">tap_mutation</td>

            <td class="entry" valign="top" width="50%" headers="d26135e82 ">Time spent servicing tap mutations</td>

          </tr>

        </tbody>

      </table>
</div>

    
    </div>

    
    
  </div>

<nav class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../../CLI/cbstats-intro.html" title="The cbstats tool is used to get node and cluster-level statistics about performance and items in storage.">cbstats tool</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../../CLI/CBstats/cbstats-tap.html" title="The cbstats tap command is used to get statistics associated with tap and cbstats tapagg is used to get statistics from named tap connections.">Tap</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../../CLI/CBstats/cbstats-uuid.html" title="The cbstats uuid command provides the UUID for the server node.">UUID</a></div>
</div>
</nav>
</body>
</html>