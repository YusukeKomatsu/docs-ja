<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2015">
<meta name="DC.rights.owner" content="(C) Copyright 2015">
<meta name="DC.Type" content="reference">
<meta name="description" content="Ensuring query results consistency is performed with the POST /internalSettings -d indexAwareRebalanceDisabled HTTP method, URI, and parameter."><meta name="DC.Relation" scheme="URI" content="../REST/rest-cluster-intro.html">
<meta name="DC.Relation" scheme="URI" content="../REST/rest-cluster-autofailover-intro.html">
<meta name="DC.Relation" scheme="URI" content="../REST/rest-cluster-email-notifications.html">
<meta name="DC.Relation" scheme="URI" content="../Views/views-operation.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rest-cluster-disable-query">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../commonltr.css">
<title>Disabling consistent query results on rebalance</title>
</head>
<body id="rest-cluster-disable-query">


  <h1 class="title topictitle1">Disabling consistent query results on rebalance</h1>

  
  <div class="body refbody"><p class="shortdesc">Ensuring query results consistency is performed with the <samp class="ph codeph">POST /internalSettings -d indexAwareRebalanceDisabled</samp> HTTP method, URI, and parameter.</p>

    
    <div class="section"><h2 class="title sectiontitle">Description</h2>
      
      <p class="p">If queries are performed during rebalance, this setting ensures that query results are
        consistent with the original bucket and data organization prior to rebalancing. In other
        words, the query results reflect the data on an original node prior to rebalance rather than
        data on a node after rebalance started. By default, this functionality is enabled.</p>

      <div class="note note"><span class="notetitle">Note:</span> Be aware that rebalance may take significantly more time if you implemented
        views for indexing and querying. If rebalance time becomes a critical factor for your
        application, this feature can be disabled, however, it is not recommend. Do not disable this
        functionality for production applications without thorough testing. To do so may lead to
        unpredictable query results during rebalance. </div>

    </div>

    
    <div class="section"><h2 class="title sectiontitle">HTTP method and URI</h2>
      <pre class="pre codeblock">POST /internalSettings -d indexAwareRebalanceDisabled</pre>

    
    
    </div>


    
    <div class="section"><h2 class="title sectiontitle">Syntax</h2>
      <p class="p">Curl request syntax:</p>

      <pre class="pre codeblock">curl -v -u [admin]:[password] -X POST
  http://[localhost]:8091/internalSettings
  -d indexAwareRebalanceDisabled=[true | false]
      </pre>

    </div>

    
    <div class="section"><h2 class="title sectiontitle">Example</h2>
      <p class="p">Curl request example to disable this feature:</p>

      <pre class="pre codeblock">curl -v -u admin:password -X POST
  http://10.5.2.54:8091/internalSettings
  -d indexAwareRebalanceDisabled=true
      </pre>

    </div>

    
    <div class="section"><h2 class="title sectiontitle">Response</h2>
      <pre class="pre codeblock">HTTP/1.1 200 OK
Content-Type: application/json</pre>

    </div>


  </div>

  <nav class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../REST/rest-cluster-intro.html" title="The Cluster REST API manages cluster operations.">Cluster API</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../REST/rest-cluster-autofailover-intro.html" title="Auto-failover is managed with with the GET /settings/autoFailover HTTP method and URI.">Managing auto-failover</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../REST/rest-cluster-email-notifications.html" title="Alert settings specify whether email alerts are sent and the events that trigger emails. This is a global setting for all clusters. Authentication is required to read this value.">Setting email notifications</a></div>
</div>

<div class="linklist linklist">
<div><a class="link" href="../Views/views-operation.html" title="This section describes how Views operate and how various functions impact views and data.">Views operations</a></div></div>
</nav>

</body>
</html>