<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2015">
<meta name="DC.rights.owner" content="(C) Copyright 2015">
<meta name="DC.Type" content="topic">
<meta name="description" content="New XDCR stream creation must occur a period of time after creating a bucket or after deleting a XDCR stream."><meta name="DC.Relation" scheme="URI" content="../XDCR/xdcr-intro.html">
<meta name="DC.Relation" scheme="URI" content="../XDCR/xdcr-flushRequests.html">
<meta name="DC.Relation" scheme="URI" content="../XDCR/xdcr-pause-resume.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="topic1154">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../commonltr.css">
<title>XDCR stream management</title>
</head>
<body id="topic1154">


  <h1 class="title topictitle1">XDCR stream management</h1>

  
  <div class="body"><p class="shortdesc">New XDCR stream creation must occur a period of time after creating a bucket or after deleting a XDCR stream.</p>

    <p class="p">XDCR stream management Under the following circumstances, a period of time should pass
      (depending on the CPU load) before creating new XDCR streams:</p>

    
    <ul class="ul">
      <li class="li">After creating a bucket</li>

      <li class="li">After deleting an old XDCR stream</li>

    </ul>

    
    <p class="p">If a new XDCR stream is created immediately after a bucket has been created, a <samp class="ph codeph">db_not_found</samp>
      error may occur. When a bucket is created, a period of time passes before the buckets are
      available. If XDCR tries to replicate to or from the vBucket too soon, a <samp class="ph codeph">db_not_found</samp> error
      occurs. The same situation applies when other clients are “talking” to a bucket.</p>

    <p class="p">If a new XDCR stream is created immediately after an old XDCR stream is deleted, an Erlang
      <samp class="ph codeph">eaddrinuse</samp> error occurs. This is related to the Erlang implementation of the TCP/IP protocol.
      After an Erlang process releases a socket, the socket stays in TIME_WAIT for a while before a
      new Erlang process can reuse it. If the new XDCR stream is created too quickly, vBucket
      replicators may encounter the <samp class="ph systemoutput">eaddrinuse</samp> error and XDCR may not be able to fully start.</p>

    
      <div class="note note"><span class="notetitle">Note:</span> The TIME_WAIT interval may be tunable from the operating system. 
        If so, try lowering the interval time. </div>

  </div>

<nav class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../XDCR/xdcr-intro.html" title="XDCRは、主に災害復旧のために、あるクラスタのデータを別のクラスタに複製します。">クロスデータセンターレプリケーション（XDCR）</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../XDCR/xdcr-flushRequests.html" title="Flush requests to delete the entire contents of bucket are not replicated to the remote cluster.">XDCR flush requests</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../XDCR/xdcr-pause-resume.html" title="During XDCR replication, the process can be paused and resumed.">XDCR pause and resume replication</a></div>
</div>
</nav>
</body>
</html>