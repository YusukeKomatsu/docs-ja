<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd">
<reference xml:lang="ja" id="reference_dgw_x1b_k4">
  <title>ディスク I/O プライオリティの設定</title>
  <shortdesc>
    bucketのディスク I/O プライオリティは<codeph>/pools/default/buckets/[bucket-name]</codeph>URIと<codeph>threadNumber</codeph>設定でセットします。
  </shortdesc>
  <refbody>
    <section>
      <title>HTTPメソッドとURI</title>
      <p>
        <codeph>threadsNumber</codeph>オプションを使用して、スレッドワーカーの最大値をセットします。
        高いプライオリティを指定する場合、8スレッドを割り当てます。
        低いプライオリティを指定する場合、3スレッドを割り当てます。
        デフォルト: <codeph>threadsNumber=3</codeph>. 高いプライオリティ(8)もしくは低いプライオリティ(3)のみ許可されています。</p>
      <codeblock>POST /pools/default/buckets/[bucket_name]</codeblock>
      <p>
        <codeph>threadNumber</codeph>パラメータはbucketのディスク I/O プライオリティを指定するのに使用されます。
      </p>
      <note type="important">
        bucketプロパティは編集するときは、全てのbucketプロパティを必ず指定してください。
        （既存の値を変更するかどうかに問わず）もしbucketプロパティが指定されなかった場合、Couchbase Serverはプロパティをデフォルトにリセットする場合があります。
        たとえ特定のプロパティの変更を意図しなかったとしても、この挙動をさけるために既存の値を再指定しなければいけません。
      </note>
    </section>
      
      
      <section><title>シンタックス</title>
        <p>Curlリクエストシンタックス:</p>
        <codeblock>
curl -v -X POST -u [admin]:[password] \
  http://[localhost]:8091/pools/default/buckets/[bucket-name] \
  -d threadsNumber=[3 | 8] 
        </codeblock>
      </section>
        
        <section><title>例</title>
      <p>
        次の例ではデフォルトbucketの<codeph>threadsNumber</codeph>をデフォルトの3という低いプライオリティから8という高いプライオリティに変更しています。
      </p>
      <codeblock>
curl -v -X POST -u Administrator:password \
  http://10.5.2.54:8091/pools/default/buckets/default \
  -d threadsNumber=8        
  </codeblock>
    </section>
  </refbody>
</reference>
