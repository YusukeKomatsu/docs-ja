<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2015">
<meta name="DC.rights.owner" content="(C) Copyright 2015">
<meta name="DC.Type" content="reference">
<meta name="description" content="To retrieve all bucket information for a cluster use the GET /pools/default/buckets HTTP method and URI."><meta name="DC.Relation" scheme="URI" content="../REST/rest-bucket-intro.html">
<meta name="DC.Relation" scheme="URI" content="../REST/rest-bucket-info.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="rest-buckets-summary">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../commonltr.css">
<title>Getting all bucket information</title>
</head>
<body id="rest-buckets-summary">


    <h1 class="title topictitle1">Getting all bucket information</h1>

    
    <div class="body refbody"><p class="shortdesc">To retrieve all bucket information for a cluster use the <samp class="ph codeph">GET
            /pools/default/buckets</samp> HTTP method and URI.</p>

        <div class="section"><h2 class="title sectiontitle">Description</h2>
            <div class="p">To create an SDK for Couchbase, use either the proxy path or the direct path to
                connect to Couchbase Server. If the SDK uses the direct path, the SDK is not
                insulated from most reconfiguration changes to the bucket. This means that the SDK
                needs to either poll the bucketâ€™s URI or connect to the streaming URI to receive
                updates when the bucket configuration changes. Bucket configuration changes occur
                under the follow circumstances: <ul class="ul">
                    <li class="li">Nodes are added.</li>

                    <li class="li">Nodes are removed.</li>

                    <li class="li">Nodes fail.</li>

                </ul>
</div>

        </div>

        
        <div class="section"><h2 class="title sectiontitle">HTTP method and URI</h2>
            <pre class="pre codeblock">
GET /pools/default/buckets
            </pre>

            
        </div>

        
        <div class="section"><h2 class="title sectiontitle">Syntax</h2>
            <p class="p">Curl request syntax to retrieve information for all buckets in a cluster:</p>

            <pre class="pre codeblock">curl -u [admin]:[password] 
    http://[localhost]:8091/pools/default/buckets</pre>

            
            <p class="p">Raw HTTP request syntax:</p>

            <pre class="pre codeblock">GET /pools/default/buckets
Host: localhost:8091
Authorization: Basic xxxxxxxxxxxxxxxxxxx
Accept: application/json
X-memcachekv-Store-Client-Specification-Version: 0.1
</pre>

        </div>

        
        <div class="section"><h2 class="title sectiontitle">Example</h2>
            <p class="p">Curl request example:</p>

            <pre class="pre codeblock">curl -u admin:password 
    http://10.5.2.54:8091/pools/default/buckets</pre>

            
            <p class="p">Raw HTTP request example:</p>

            <pre class="pre codeblock">GET /pools/default/buckets
Host: 10.5.2.54:8091
Authorization: Basic xxxxxxxxxxxxxxxxxxx
Accept: application/json
X-memcachekv-Store-Client-Specification-Version: 0.1
</pre>

        </div>

        
        <div class="section"><h2 class="title sectiontitle">Response</h2>       
        <pre class="pre codeblock">
Host: localhost:8091
Authorization: Basic xxxxxxxxxxxxxxxxxxx
Accept: application/json
X-memcachekv-Store-Client-Specification-Version: 0.1
</pre>

        
        <pre class="pre codeblock">HTTP/1.1 200 OK
Server: Couchbase Server 1.6.0
Pragma: no-cache
Date: Wed, 03 Nov 2010 18:12:19 GMT
Content-Type: application/json
Content-Length: nnn
Cache-Control: no-cache no-store max-age=0
[
    {
        "name": "default",
        "bucketType": "couchbase",
        "authType": "sasl",
        "saslPassword": "",
        "proxyPort": 0,
        "uri": "/pools/default/buckets/default",
        "streamingUri": "/pools/default/bucketsStreaming/default",
        "flushCacheUri": "/pools/default/buckets/default/controller/doFlush",
        "nodes": [
            {
                "uptime": "784657",
                "memoryTotal": 8453197824.0,
                "memoryFree": 1191157760,
                "mcdMemoryReserved": 6449,
                "mcdMemoryAllocated": 6449,
                "clusterMembership": "active",
                "status": "unhealthy",
                "hostname": "10.1.15.148:8091",
                "version": "1.6.0",
                "os": "windows",
                "ports": {
                    "proxy": 11211,
                    "direct": 11210
                }
            }
        ],
        "stats": {
            "uri": "/pools/default/buckets/default/stats"
        },
        "nodeLocator": "vbucket",
        "vBucketServerMap": {
            "hashAlgorithm": "CRC",
            "numReplicas": 1,
            "serverList": [
                "192.168.1.2:11210"
            ],
      "vBucketMap": [ [ 0, -1 ], [ 0, -1 ], [ 0, -1 ], [ 0, -1 ], [ 0, -1 ], [ 0, -1 ]]
  },
        "replicaNumber": 1,
        "quota": {
            "ram": 104857600,
            "rawRAM": 104857600
        },
        "basicStats": {
            "quotaPercentUsed": 24.360397338867188,
            "opsPerSec": 0,
            "diskFetches": 0,
            "itemCount": 0,
            "diskUsed": 0,
            "memUsed": 25543728
        }
    },
    {
        "name": "test-application",
        "bucketType": "memcached",
        "authType": "sasl",
        "saslPassword": "",
        "proxyPort": 0,
        "uri": "/pools/default/buckets/test-application",
        "streamingUri": "/pools/default/bucketsStreaming/test-application",
        "flushCacheUri": "/pools/default/buckets/test-application/controller/doFlush",
        "nodes": [
            {
                "uptime": "784657",
                "memoryTotal": 8453197824.0,
                "memoryFree": 1191157760,
                "mcdMemoryReserved": 6449,
                "mcdMemoryAllocated": 6449,
                "clusterMembership": "active",
                "status": "healthy",
                "hostname": "192.168.1.2:8091",
                "version": "1.6.0",
                "os": "windows",
                "ports": {
                    "proxy": 11211,
                    "direct": 11210
                }
            }
        ],
        "stats": {
            "uri": "/pools/default/buckets/test-application/stats"
        },
        "nodeLocator": "ketama",
        "replicaNumber": 0,
        "quota": {
            "ram": 67108864,
            "rawRAM": 67108864
        },
        "basicStats": {
            "quotaPercentUsed": 4.064150154590607,
            "opsPerSec": 0,
            "hitRatio": 0,
            "itemCount": 1385,
            "diskUsed": 0,
            "memUsed": 2727405
        }
    }
]
        </pre>

        </div>

    </div>

<nav class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../REST/rest-bucket-intro.html" title="The Buckets REST API creates, deletes, flushes, and retrieves information about buckets and bucket operations.">Buckets API</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../REST/rest-bucket-info.html" title="To retrieve information about existing buckets and the default bucket, use the GET operation with the /pools/default/buckets/[bucket-name] URI.">Getting single bucket information</a></div>
</div>
</nav>
</body>
</html>