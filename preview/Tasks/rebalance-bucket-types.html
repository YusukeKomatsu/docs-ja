<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2015">
<meta name="DC.rights.owner" content="(C) Copyright 2015">
<meta name="DC.Type" content="concept">
<meta name="description" content="The rebalance operation works across the cluster both on the Couchbase and memcached buckets."><meta name="DC.Relation" scheme="URI" content="../Tasks/tasks-rebalance.html">
<meta name="DC.Relation" scheme="URI" content="../Tasks/rebalance-behind-the-scenes.html">
<meta name="DC.Relation" scheme="URI" content="../Tasks/rebalance-swap-rebalance.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="concept_e1d_lxf_q4">
<link rel="stylesheet" type="text/css" href="../commonltr.css">
<title>Rebalance effect on bucket types</title>
</head>
<body id="concept_e1d_lxf_q4">


 <h1 class="title topictitle1">Rebalance effect on bucket types</h1>

 
 <div class="body conbody"><p class="shortdesc">The rebalance operation works across the cluster both on the Couchbase and memcached
  buckets.</p>

  <p class="p">There are differences in the rebalance operation for the Couchbase and memcached buckets due to the inherent differences of the two bucket types.</p>

  
  <div class="section"><h2 class="title sectiontitle">Couchbase buckets</h2>
  
  <p class="p">For Couchbase buckets:</p>
<ul class="ul">
     <li class="li">Data is rebalanced across all nodes in the cluster to match the new
      configuration.</li>

     <li class="li">The updated vBucket map is communicated to clients as each vBucket is successfully
      moved.</li>

     <li class="li">No data is lost, and there are no changes to the caching or availability of individual keys.</li>

  </ul>
</div>

  
  
  <div class="section"><h2 class="title sectiontitle">Memcached buckets</h2>
  <p class="p">For memcached buckets:</p>

  <ul class="ul">
     <li class="li">If new nodes are added to the cluster, each new node is added to the cluster and
     to the list of nodes supporting the memcached bucket data.</li>

     <li class="li">If nodes are removed from the cluster, the data stored on that node within the
      memcached bucket is lost and the node is removed from the available list of nodes.</li>

     <li class="li">In either case, the list of nodes handling the bucket data is automatically updated and
      communicated to the client nodes. Memcached buckets use the Ketama hashing algorithm, which is
      designed to cope with server changes. However, server node changes can shift the hashing and
      invalidate some keys once the rebalance operation is completed.</li>

    </ul>

  </div>

  
 </div>

<nav class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Tasks/tasks-rebalance.html" title="Rebalancing is the process of redistributing information across nodes.">Rebalancing</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../Tasks/rebalance-behind-the-scenes.html" title="The rebalance process is managed through a specific process called the orchestrator.">Rebalance behind-the-scenes</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../Tasks/rebalance-swap-rebalance.html" title="Swap rebalance is an automatic process that optimizes the movement of data when you are adding and removing the same number of nodes within the same operation.">Swap rebalance</a></div>
</div>
</nav>
</body>
</html>