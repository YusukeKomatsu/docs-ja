<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2015">
<meta name="DC.rights.owner" content="(C) Copyright 2015">
<meta name="DC.Type" content="topic">
<meta name="description" content="Cluster design takes into account topics such as RAM, number of nodes and cores, client or server-side moxi, and so on."><meta name="DC.Relation" scheme="URI" content="../Concepts/bp-deployment-considerations.html">
<meta name="DC.Relation" scheme="URI" content="../Concepts/swap-space.html">
<meta name="DC.Relation" scheme="URI" content="../Concepts/bp-sizingGuidelines.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="topic2131">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../commonltr.css">
<title>Cluster design considerations</title>
</head>
<body id="topic2131">


 <h1 class="title topictitle1">Cluster design considerations</h1>

 
 <div class="body"><p class="shortdesc">Cluster design takes into account topics such as RAM, number of nodes and cores, client
  or server-side moxi, and so on.</p>

  
  <dl class="dl">
   
    <dt class="dt dlterm">RAM</dt>

    <dd class="dd">Memory is a key factor for smooth cluster performance. Couchbase Server is a best
     solution for applications that keep most of their active dataset in memory. It is very
     important that all actively used data (the working set) lives in memory. When there is not
     enough memory left, some data is ejected from memory and will only exist on disk. Accessing
     data from disk is much slower than accessing data in memory. As a result, if ejected data is
     accessed frequently the cluster performance suffers. Use the formula provided in Sizing
     Guidelines  to verify your configuration, optimize performance, and avoid this situation.</dd>

   
  </dl>

  
  <dl class="dl">
   
    <dt class="dt dlterm">Number of nodes</dt>

    <dd class="dd">Once you know how much memory you need, you must decide whether to have a
     few large nodes or many small nodes.<ul class="ul">
      <li class="li">Many small nodes: You are distributing I/O across several machines. However, there is also 
       a higher chance of node failure (across the whole cluster).</li>

      <li class="li">Few large nodes: If a node fails, it greatly impacts the application.</li>

      <li class="li">Choosing between many small nodes and few large nodes presents a tradeoff between reliability and efficiency.</li>

     </ul>
</dd>

   
  </dl>

  
  <dl class="dl">
   
    <dt class="dt dlterm">Client or server-side moxi</dt>

    <dd class="dd">Couchbase Server prefers a client-side moxi (or a smart client) over a server-side moxi. However,
     for development environments or for faster, easier deployments, you can use server-side moxis. A
     server-side moxi is not recommended because it produces an additional hop if a server receives a
     client request and doesn’t have the requested data.</dd>

   
  </dl>

  
  <dl class="dl">
   
    <dt class="dt dlterm">Number of cores</dt>

    <dd class="dd">Couchbase Server is more memory- or I/O bound than it is CPU-bound. However,
     it is more efficient on machines that have at least two cores.</dd>

   
  </dl>

 
  
  <dl class="dl">
   
    <dt class="dt dlterm">Storage type</dt>

    <dd class="dd">You can choose either SSDs (solid state drives) or spinning disks to store
     data. SSDs are faster than rotating media but are currently more expensive. Couchbase Server needs
     less memory if a cluster uses SSDs as their I/O queue buffer is smaller.</dd>

   
  </dl>

  
  <dl class="dl">
   
    <dt class="dt dlterm">WAN Deployments</dt>

    <dd class="dd">Couchbase Server is not designed to have clusters or clients that span data centers. It
     requires that intra-cluster (server to server) latency be very low, as well as between the
     cluster and Couchbase clients. If you require the ability to be in one or more data centersgit
     statuas, see <a class="xref" href="../XDCR/xdcr-intro.html" title="XDCRは、主に災害復旧のために、あるクラスタのデータを別のクラスタに複製します。">Cross Datacenter Replication
     (XDCR)</a>.</dd>

   
  </dl>

  
  <dl class="dl">
   
    <dt class="dt dlterm">Shared storage</dt>

    <dd class="dd">It is strongly recommended to avoid using centralized back-end storage system such as a SAN
     or NAS. While they can support good performance, they present a single bottleneck or point of
     failure that limits the distributed nature of Couchbase. </dd>

   
  </dl>

 
 
 </div>


<nav class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Concepts/bp-deployment-considerations.html" title="アクセス制限、ノード間通信、スワップの設定、接続タイムアウトなどの考慮事項について説明します。">デプロイ構成の考慮事項</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../Concepts/swap-space.html" title="On Linux, swap space is used when the physical memory (RAM) is full.">Swap space</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../Concepts/bp-sizingGuidelines.html" title="The primary considerations for sizing a Couchbase Server cluster are the number of nodes and node size.">Sizing guidelines</a></div>
</div>
</nav>
</body>
</html>