<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2015">
<meta name="DC.rights.owner" content="(C) Copyright 2015">
<meta name="DC.Type" content="topic">
<meta name="description" content="Couchbase Server provides data management services using buckets, which are isolated virtual containers for data. A bucket is a logical grouping of physical resources within a cluster of Couchbase Servers."><meta name="DC.Relation" scheme="URI" content="../Concepts/concept-intro.html">
<meta name="DC.Relation" scheme="URI" content="../Concepts/concept-clusterMgr.html">
<meta name="DC.Relation" scheme="URI" content="../Concepts/concept-ramQuota.html">
<meta name="DC.Relation" scheme="URI" content="../CLI/cli-overview.html">
<meta name="DC.Relation" scheme="URI" content="../REST/rest-bucket-intro.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="topic5853">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../commonltr.css">
<title>Data storage</title>
</head>
<body id="topic5853">


	<h1 class="title topictitle1">Data storage</h1>

	
	
	<div class="body"><p class="shortdesc">Couchbase Server provides data management services using <dfn class="term">buckets</dfn>, which are
		isolated virtual containers for data. A bucket is a logical grouping of physical resources
		within a cluster of Couchbase Servers.</p>

		<p class="p">Buckets provide a secure mechanism for organizing, managing, and analyzing the data storage
			resources. Two types of data buckets, <samp class="ph codeph">memcached</samp> and
				<samp class="ph codeph">Couchbase</samp>, enable you to store data either in-memory only or both
			in-memory and on disk (for added reliability). Select the appropriate bucket type for
			your implementation during the Couchbase Server setup.</p>

		
		<div class="note note"><span class="notetitle">Note:</span> Buckets can be used by multiple client applications across
			a cluster. </div>

		
		
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
				
				
				<thead class="thead" align="left">
					<tr class="row">
						<th class="entry" valign="top" width="16.5016501650165%" id="d18457e42">Bucket Type</th>

						<th class="entry" valign="top" width="83.4983498349835%" id="d18457e45">Description</th>

					</tr>

				</thead>

				<tbody class="tbody">
					<tr class="row">
						<td class="entry" valign="top" width="16.5016501650165%" headers="d18457e42 ">Couchbase</td>

						<td class="entry" valign="top" width="83.4983498349835%" headers="d18457e45 ">Provides highly-available and dynamically reconfigurable distributed data storage, with
							persistence and replication services. Couchbase buckets are 100%
							protocol compatible with, and built in the spirit of, the memcached open
							source distributed key-value cache.</td>

					</tr>

					<tr class="row">
						<td class="entry" valign="top" width="16.5016501650165%" headers="d18457e42 ">memcached</td>

						<td class="entry" valign="top" width="83.4983498349835%" headers="d18457e45 ">Provides a directly-addressed, distributed (scale-out), in-memory, key-value cache.
							Memcached buckets are designed to be used alongside relational database
							technology. They cache frequently-used data, thereby reducing the number
							of queries a database server must perform for web servers delivering a
							web application.</td>

					</tr>

				</tbody>

			</table>
</div>

		<p class="p">The different bucket types support different capabilities.  </p>
 
		
		
		
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
				
				
				
				<thead class="thead" align="left">
					<tr class="row">
						<th class="entry" valign="top" width="17.006802721088434%" id="d18457e90">Capability</th>

						<th class="entry" valign="top" width="35.374149659863946%" id="d18457e93">memcached buckets</th>

						<th class="entry" valign="top" width="47.61904761904761%" id="d18457e96">Couchbase buckets</th>

					</tr>

				</thead>

				<tbody class="tbody">
					<tr class="row">
						<td class="entry" valign="top" width="17.006802721088434%" headers="d18457e90 ">Item size limit</td>

						<td class="entry" valign="top" width="35.374149659863946%" headers="d18457e93 ">1 MB</td>

						<td class="entry" valign="top" width="47.61904761904761%" headers="d18457e96 ">20 MB</td>

					</tr>

					<tr class="row">
						<td class="entry" valign="top" width="17.006802721088434%" headers="d18457e90 ">Persistence</td>

						<td class="entry" valign="top" width="35.374149659863946%" headers="d18457e93 ">No</td>

						<td class="entry" valign="top" width="47.61904761904761%" headers="d18457e96 ">Yes</td>

					</tr>

					<tr class="row">
						<td class="entry" valign="top" width="17.006802721088434%" headers="d18457e90 ">Replication</td>

						<td class="entry" valign="top" width="35.374149659863946%" headers="d18457e93 ">No</td>

						<td class="entry" valign="top" width="47.61904761904761%" headers="d18457e96 ">Yes</td>

					</tr>

					<tr class="row">
						<td class="entry" valign="top" width="17.006802721088434%" headers="d18457e90 ">Rebalance</td>

						<td class="entry" valign="top" width="35.374149659863946%" headers="d18457e93 ">No</td>

						<td class="entry" valign="top" width="47.61904761904761%" headers="d18457e96 ">Yes</td>

					</tr>

					<tr class="row">
						<td class="entry" valign="top" width="17.006802721088434%" headers="d18457e90 ">Statistics</td>

						<td class="entry" valign="top" width="35.374149659863946%" headers="d18457e93 ">Limited set for in-memory stats</td>

						<td class="entry" valign="top" width="47.61904761904761%" headers="d18457e96 ">Full suite</td>

					</tr>

					<tr class="row">
						<td class="entry" valign="top" width="17.006802721088434%" headers="d18457e90 ">Client support</td>

						<td class="entry" valign="top" width="35.374149659863946%" headers="d18457e93 ">memcached, should use Ketama consistent hashing</td>

						<td class="entry" valign="top" width="47.61904761904761%" headers="d18457e96 ">Full Smart Client Support</td>

					</tr>

					
				
				
					<tr class="row">
						<td class="entry" valign="top" width="17.006802721088434%" headers="d18457e90 ">XDCR</td>

						<td class="entry" valign="top" width="35.374149659863946%" headers="d18457e93 ">No</td>

						<td class="entry" valign="top" width="47.61904761904761%" headers="d18457e96 ">Yes</td>

					</tr>

					<tr class="row">
						<td class="entry" valign="top" width="17.006802721088434%" headers="d18457e90 ">Backup</td>

						<td class="entry" valign="top" width="35.374149659863946%" headers="d18457e93 ">No</td>

						<td class="entry" valign="top" width="47.61904761904761%" headers="d18457e96 ">Yes</td>

					</tr>

					<tr class="row">
						<td class="entry" valign="top" width="17.006802721088434%" headers="d18457e90 ">Tap/DCP</td>

						<td class="entry" valign="top" width="35.374149659863946%" headers="d18457e93 ">No</td>

						<td class="entry" valign="top" width="47.61904761904761%" headers="d18457e96 ">Yes</td>

					</tr>

					<tr class="row">
						<td class="entry" valign="top" width="17.006802721088434%" headers="d18457e90 ">Encrypted data access </td>

						<td class="entry" valign="top" width="35.374149659863946%" headers="d18457e93 ">No</td>

						<td class="entry" valign="top" width="47.61904761904761%" headers="d18457e96 ">Yes</td>

					</tr>

				</tbody>

			</table>
</div>

		
		<p class="p">Couchbase-type buckets provide a highly-available and dynamically reconfigurable distributed
			data store, survive node failures, and allow cluster reconfiguration while continuing to
			service requests. They have the following core capabilities:</p>

		
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
				
				
				<thead class="thead" align="left">
					<tr class="row">
						<th class="entry" valign="top" width="16.5016501650165%" id="d18457e243">Couchbase bucket capability</th>

						<th class="entry" valign="top" width="83.4983498349835%" id="d18457e246">Description</th>

					</tr>

				</thead>

				<tbody class="tbody">
					<tr class="row">
						<td class="entry" valign="top" width="16.5016501650165%" headers="d18457e243 ">Caching</td>

						<td class="entry" valign="top" width="83.4983498349835%" headers="d18457e246 ">Couchbase buckets operate through RAM. Data is kept in RAM and persisted down to disk.
							Data will be cached in RAM until the configured RAM is exhausted, and
							data is ejected from RAM. If the requested data is not currently in the
							the RAM cache, it will be loaded automatically from disk.</td>

					</tr>

					<tr class="row">
						<td class="entry" valign="top" width="16.5016501650165%" headers="d18457e243 ">Persistence</td>

						<td class="entry" valign="top" width="83.4983498349835%" headers="d18457e246 ">Data objects can be persisted asynchronously to the hard-disk resources from memory to
							provide protection from server restarts or minor failures. Persistence
							properties are set at the bucket level.</td>

					</tr>

					<tr class="row">
						<td class="entry" valign="top" width="16.5016501650165%" headers="d18457e243 ">Replication</td>

						<td class="entry" valign="top" width="83.4983498349835%" headers="d18457e246 ">A configurable number of replica servers can receive copies of all
							data objects in the Couchbase-type bucket. If the host machine fails, a
							replica server can be promoted to be the host server, providing high
							availability cluster operations via failover. Replication is configured
							at the bucket level.</td>

					</tr>

					<tr class="row">
						<td class="entry" valign="top" width="16.5016501650165%" headers="d18457e243 ">Rebalancing</td>

						<td class="entry" valign="top" width="83.4983498349835%" headers="d18457e246 ">Rebalancing enables load distribution across resources and dynamic
							addition or removal of buckets and servers in the cluster. </td>

					</tr>

				</tbody>

			</table>
</div>

		
		<p class="p">Both the memcached and Couchbase buckets can be authenticated via SASL, or not authenticated
			(non-SASL).</p>

		<p class="p">The following bucket types can be configured: </p>

		<dl class="dl">
			
			<dt class="dt dlterm">Default bucket</dt>

				<dd class="dd">The default bucket is a Couchbase bucket that always resides on port <samp class="ph codeph">11211</samp>
					and is a non-SASL authenticating bucket. When Couchbase Server is first
					installed, this bucket is automatically set up during installation. It can be
					removed after the installation and can also be re-added later. If you decide to
					add the bucket named <samp class="ph codeph">default</samp> at a later time, it must be placed
					on port <samp class="ph codeph">11211</samp> and must be a non-SASL authenticating bucket. A
					bucket that is not named <samp class="ph codeph">default</samp> cannot reside on port
						<samp class="ph codeph">11211</samp> if it is a non-SASL bucket. The
						<samp class="ph codeph">default</samp> bucket can be reached with a vBucket aware smart
					client, an ASCII client or a binary client that doesn’t use SASL
					authentication.</dd>

			
			
				<dt class="dt dlterm">Non-SASL buckets</dt>

				<dd class="dd">Non-SASL buckets can be placed on any available port, with the exception of port
						<samp class="ph codeph">11211</samp> if the bucket is not named <samp class="ph codeph">default</samp>.
					Only one Non-SASL bucket can be placed on any individual port. These buckets can
					be reached with a vBucket aware smart client, an ASCII client or a binary client
					that doesn’t use SASL authentication.</dd>

			
			
				<dt class="dt dlterm">SASL buckets</dt>

				<dd class="dd">SASL authenticating Couchbase buckets can only be placed on port <samp class="ph codeph">11211</samp> and
					each bucket is differentiated by its name and password. A SASL bucket cannot be
					placed on any port other than <samp class="ph codeph">11211</samp> and can be reached with
					either a vBucket aware smart client, or a binary client that has SASL support.
					These buckets cannot be reached with ASCII clients. <p class="p">Smart clients discover
						changes in the cluster using the Couchbase Management REST API. The SASL
						buckets can be used to isolate individual applications to provide
						multi-tenancy, or to isolate data types in the cache to enhance performance
						and visibility. Couchbase Server allows you to configure different
						ports to access different buckets, and provides the option to access
						isolated buckets using either the binary protocol with SASL authentication
						or the ASCII protocol with no authentication.</p>
<p class="p">Couchbase Server 
						allows you to use and mix different types of buckets in your environment,
						Couchbase and memcached. Buckets of different types still share the same
						resource pool and cluster resources. </p>
<p class="p">Quotas for RAM and disk usage
						are configurable per bucket, so that resource usage can be managed across
						the cluster. Quotas can be modified on a running cluster and administrators
						can re-allocate resources as usage patterns or priorities change over
						time.</p>

				</dd>

			
		</dl>


	</div>

	<nav class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Concepts/concept-intro.html" title="単一のCouchbase ServerインスタンスやCouchbaseクラスタを構成する、さまざまなコンポーネントやシステム、そしてCouchbase Serverデータベースの高速でエラスティックな性質、高可用性、高性能について理解するために必要となる情報や概念を含んでいます。">アーキテクチャと概念</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../Concepts/concept-clusterMgr.html" title="クラスタマネージャはノードとクラスタの管理を担当します。Couchbaseクラスタ内のすべてのノードはクラスタマネージャコンポーネントを有しています。">クラスタマネージャ</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../Concepts/concept-ramQuota.html" title="RAM is allocated to Couchbase Server in the following configurable quantities: Server Quota and Bucket Quota.">RAM quotas</a></div>
</div>

<div class="linklist linklist">
<div><a class="link" href="../CLI/cli-overview.html" title="The command-line tools perform different functions and operations, these CLI tools are described individually.">CLI overview</a></div>
<div><a class="link" href="../REST/rest-bucket-intro.html" title="The Buckets REST API creates, deletes, flushes, and retrieves information about buckets and bucket operations.">Buckets API</a></div></div>
</nav>

</body>
</html>