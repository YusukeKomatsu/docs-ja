<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2015">
<meta name="DC.rights.owner" content="(C) Copyright 2015">
<meta name="DC.Type" content="topic">
<meta name="description" content="To modify XDCR advanced settings, use either the Couchbase Server CLI or REST API."><meta name="DC.Relation" scheme="URI" content="../Tasks/tasks-manage-xdcr.html">
<meta name="DC.Relation" scheme="URI" content="../Tasks/xdcr-configure-bidirection.html">
<meta name="DC.Relation" scheme="URI" content="../Tasks/tasks-dataRecovery.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="topic_ayq_cd4_14">
<link rel="stylesheet" type="text/css" href="../commonltr.css">
<title>Modifying XDCR settings</title>
</head>
<body id="topic_ayq_cd4_14">


  <h1 class="title topictitle1">Modifying XDCR settings</h1>

  
  <div class="body"><p class="shortdesc">To modify XDCR advanced settings, use either the Couchbase Server CLI or REST API.</p>

    <div class="section">
      
      <p class="p">Besides Couchbase Web Console, you can use
        several Couchbase REST API endpoints to modify XDCR settings. Some of these settings are
        references used in XDCR and some of these settings will change XDCR behavior or performance:</p>

      
      <p class="p">For the XDCR retry interval, you can provide an environment variable or make a PUT request. By
        default if XDCR is unable to replicate for any reason like network failures, it will stop and
        try to reach the remote cluster every 30 seconds if the network is back, XDCR will resume
        replicating. You can change this default behavior by changing an environment variable or by
        changing the server parameter <samp class="ph codeph">xdcr_failure_restart_interval</samp> with a PUT
        request:</p>

      <div class="note note"><span class="notetitle">Note:</span> If you are using XDCR on multiple nodes in cluster and want to change this
        setting throughout the cluster, you must perform this operation on every node in the
        cluster.</div>

      <ul class="ul">
        <li class="li">By an environment variable:</li>

      </ul>

      <pre class="pre codeblock">
export XDCR_FAILURE_RESTART_INTERVAL=60
</pre>

      <ul class="ul">
        <li class="li">By server setting:</li>

      </ul>

      <pre class="pre codeblock">
curl -X POST 
  http://Administrator: asdasd@127.0.0.1:8091/diag/eval 
  -d 'rpc:call(node(), ns_config, set, [xdcr_failure_restart_interval, 60]).'
</pre>

      <p class="p">You can put the system environment variable in a system configuration file on your nodes. When
        the server restarts, it loads this parameter. If both the environment variable and the server
        parameter are set, the value for the environment parameter will supersede.</p>

    </div>

  </div>

<nav class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Tasks/tasks-manage-xdcr.html" title="Cross datacenter replication (XDCR) provides an easy method of replicating data from one cluster to another for disaster recovery as well as better data locality (getting data closer to its users).">Managing XDCR</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../Tasks/xdcr-configure-bidirection.html">Configuring bi-directional replication</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../Tasks/tasks-dataRecovery.html" title="Data recovery from remote clusters requires an XDCR environment and adequate amount of memory and disk space to support the workload and recovered data.">Data recovery from remote clusters</a></div>
</div>
</nav>
</body>
</html>