<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2015">
<meta name="DC.rights.owner" content="(C) Copyright 2015">
<meta name="DC.Type" content="topic">
<meta name="description" content="RAM is allocated to Couchbase Server in the following configurable quantities: Server Quota and Bucket Quota."><meta name="DC.Relation" scheme="URI" content="../Concepts/concept-intro.html">
<meta name="DC.Relation" scheme="URI" content="../Concepts/concept-dataStorage.html">
<meta name="DC.Relation" scheme="URI" content="../Concepts/concept-vBucket.html">
<meta name="DC.Relation" scheme="URI" content="concept-workingset-mgmt.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="topic1998">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../commonltr.css">
<title>RAM quotas</title>
</head>
<body id="topic1998">


  <h1 class="title topictitle1">RAM quotas</h1>

  
  
  <div class="body"><p class="shortdesc">RAM is allocated to Couchbase Server in the following configurable quantities:
      <em class="ph i">Server Quota</em> and <em class="ph i">Bucket Quota</em>. </p>


    <dl class="dl">
      <dt class="dt dlterm">Server quota</dt>

        <dd class="dd">The Server Quota is the RAM that is allocated to the server when Couchbase Server is first
      installed. This sets the limit of RAM allocated by Couchbase for caching data <em class="ph i">for all
        buckets</em> and is configured on a per-node basis. The Server Quota is initially configured
      in the first server in your cluster is configured, and the quota is identical on all nodes.
      For example, if you have 10 nodes and a 16GB Server Quota, there is 160GB RAM available across
      the cluster. If you were to add two more nodes to the cluster, the new nodes would need 16GB
      of free RAM, and the aggregate RAM available in the cluster would be 192GB.</dd>

      
    
      <dt class="dt dlterm">Bucket quota</dt>

      <dd class="dd">The Bucket Quota is the amount of RAM allocated to an individual bucket for caching data.
          Bucket Quotas are configured on a per-node basis, and is allocated out of the RAM defined
          by the Server Quota. For example, if you create a new bucket with a Bucket Quota of 1GB,
          in a 10 node cluster there would be an aggregate bucket quota of 10GB across the cluster.
          Adding two nodes to the cluster would extend your aggregate bucket quota to 12GB.</dd>

    
    </dl>

    
    <p class="p">The following diagram shows that adding new nodes to the cluster expands
      the overall RAM quota and the bucket quota, increasing the amount of information that can be
      kept in RAM.</p>

    
    <img class="image" src="../images/ram-quotas.png" width="720">
    
    <p class="p">Bucket Quota is used by the system to determine when data should be ejected from memory.
      Bucket Quotas are dynamically configurable, within the Server Quota limits, and enable
      individual control of information cached in memory on a per bucket basis. 
      Therefore, buckets can be configured differently depending your caching RAM allocation requirements.</p>

    
    <div class="note note"><span class="notetitle">Note:</span> The Server Quota is also dynamically configurable, however, ensure that the cluster nodes
      have the available RAM to support the chosen RAM quota configuration.</div>

  </div>

  
  <nav class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../Concepts/concept-intro.html" title="単一のCouchbase ServerインスタンスやCouchbaseクラスタを構成する、さまざまなコンポーネントやシステム、そしてCouchbase Serverデータベースの高速でエラスティックな性質、高可用性、高性能について理解するために必要となる情報や概念を含んでいます。">アーキテクチャと概念</a></div>
<div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="../Concepts/concept-dataStorage.html" title="Couchbase Server provides data management services using buckets, which are isolated virtual containers for data. A bucket is a logical grouping of physical resources within a cluster of Couchbase Servers.">Data storage</a></div>
<div class="nextlink"><strong>Next topic:</strong> <a class="link" href="../Concepts/concept-vBucket.html" title="A vBucket is defined as the owner of a subset of the key space of a Couchbase cluster. These vBuckets are used to distributed information effectively across a cluster.">vBuckets</a></div>
</div>

<div class="linklist linklist">
<div><a class="link" href="concept-workingset-mgmt.html" title="Working set management is the process of freeing up space and ensuring that the most used items are available in RAM. Ejection is the process of removing data from RAM to provide room for frequently used items.">Working set management and ejection</a></div></div>
</nav>

</body>
</html>