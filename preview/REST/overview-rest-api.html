<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en-us">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2015">
<meta name="DC.rights.owner" content="(C) Copyright 2015">
<meta name="DC.Type" content="topic">
<meta name="description" content="Use the REST API to manage clusters, server nodes, and buckets, and to retrieve run-time statistics within a Couchbase Server deployment."><meta name="DC.Relation" scheme="URI" content="../XDCR/xdcr-intro.html">
<meta name="DC.Relation" scheme="URI" content="../Views/views-intro.html">
<meta name="DC.Relation" scheme="URI" content="../CLI/cbcli-intro.html">
<meta name="DC.Relation" scheme="URI" content="http://docs.couchbase.com/">
<meta name="DC.Relation" scheme="URI" content="http://www.ietf.org/rfc/rfc4627.txt">
<meta name="DC.Relation" scheme="URI" content="http://www.json.org">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="topic8607">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../commonltr.css">
<title>REST API overview</title>
</head>
<body id="topic8607">


	<h1 class="title topictitle1">REST API overview</h1>

	
	<div class="body"><p class="shortdesc">Use the REST API to manage clusters, server nodes, and buckets, and to retrieve run-time
		statistics within a Couchbase Server deployment. </p>

		
		<div class="section"><h2 class="title sectiontitle">Description</h2>
			
			<p class="p">The REST API conforms to Representational State Transfer (REST) constraints, in other
				words, the REST API follows a <strong class="ph b">RESTful</strong> architecture. When developing a
				Couchbase-compatible SDK, the REST API is used within your library to handle views.
				Views enable you to index and query data based on functions that you define. </p>

			<div class="note tip"><span class="tiptitle">Tip:</span> The REST API should <strong class="ph b">not</strong> be used to read or write data to the
				server. Data operations, such as <samp class="ph codeph">set</samp> and <samp class="ph codeph">get</samp> are
				handled by Couchbase SDKs. </div>

			<p class="p">In addition, the Couchbase web console uses many of the same REST API endpoints that
				are used for a REST API request. In particular, for administrative tasks such as
				creating a new bucket, adding a node to a cluster, or changing cluster settings. </p>

			<p class="p">Please provide RESTful requests; you will not receive any handling instructions,
				resource descriptions, nor should you presume any conventions for URI structure for
				resources represented. The URIs in the REST API may have a specific URI or may even
				appear as RPC or some other architectural style using HTTP operations and
				semantics.</p>

			<p class="p">In other words, build your request starting from Couchbase cluster URIs. Be aware
				that URIs for resources may change from version to version. The URI hierarchies
				facilitate reuse of requests because they follow a similar pattern for accessing
				different parts of the system.</p>

		</div>

		
		
		<div class="section"><h2 class="title sectiontitle">Basic principles</h2>
		<p class="p">The Couchbase Server REST API is built on the following basic principles:</p>

		<ul class="ul">
			<li class="li"><strong class="ph b">JSON Responses</strong>
				<p class="p">The Couchbase Management REST API returns many responses as JavaScript Object Notation
			(JSON). On that note, you may find it convenient to read responses in a JSON reader.
			Some responses may have an empty body, but indicate the response with standard HTTP
			codes. For more information, see RFC 4627 at www.json.org.</p>
</li>

			<li class="li"><strong class="ph b">HTTP Basic Access Authentication</strong>
				<p class="p">The Couchbase Management REST API uses HTTP basic authentication. 
			The browser-based Web Console and Command-line Interface also use HTTP basic authentication.</p>
</li>

			<li class="li"><strong class="ph b">Versatile Server Nodes</strong>
				<p class="p">All server nodes in a cluster share the same properties and can handle any requests made
			via the REST API.; you can make a REST API request on any node in a cluster you want to
			access. If the server node cannot service a request directly, due to lack of access to
			state or some other information, it will forward the request to the appropriate server
			node, retrieve the results, and send the results back to the client.</p>
</li>

		</ul>

		</div>

		
		
		
		<div class="section"><h2 class="title sectiontitle">Types of resources</h2>
			
			<p class="p">There are a number of different resources
				within the Couchbase Server and these resources require a different
				URI/RESTful-endpoint in order to perform an operations:</p>

		
		<ul class="ul">
		<li class="li">Server nodes<p class="p">A Couchbase Server instance, also known as a server or server node, is a
						physical or virtual machine running Couchbase Server. Each server node is as
						a member of a cluster.</p>
</li>

		<li class="li">Cluster/Pool<p class="p">A cluster is a group of one or more servers and is a collection of physical
						resources that are grouped together and provide services and a management
						interface. A single default cluster exists for every deployment of Couchbase
						Server. A server node, or instance of Couchbase Server, is a member of a
						cluster. Couchbase Server collects run-time statistics for clusters,
						maintaining an overall pool-level data view of counters and periodic metrics
						of the overall system. The Couchbase Management REST API can be used to
						retrieve historic statistics for a cluster.</p>
</li>

		<li class="li">Buckets<p class="p">A bucket is a logical grouping of data within a cluster. It provides a name space
						for all the related data in an application; therefore you can use the same
						key in two different buckets and they are treated as unique items by
						Couchbase Server.</p>
<p class="p">Couchbase Server collects run-time statistics for
						buckets, maintaining an overall bucket-level data view of counters and
						periodic metrics of the overall system. Buckets are categorized by storage
						type. Memcached buckets are for in-memory, RAM-based information. Couchbase
						buckets are for persisted data.</p>
</li>

		<li class="li">Views<p class="p">Views enable you to index and query data
					based on logic you specify. You can also use views to perform calculations and
					aggregations, such as statistics, for items in Couchbase Server.</p>
</li>

		<li class="li">Cross datacenter replication (XDCR)<p class="p">Cross Datacenter Replication (XDCR) enables automatic
						replicate of data between clusters and between data buckets. The major
						benefits include the ability to restore data from one Couchbase cluster to
						another cluster after system failure and the ability to provide copies of
						data on clusters that are physically closer to end users.</p>
</li>

		</ul>

		</div>

	
	
		
		
		<div class="section"><h2 class="title sectiontitle">HTTP request headers</h2>
			<p class="p">The following HTTP request headers are used to create requests:</p>

			
			
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
					
					
					
					
					<thead class="thead" align="left">
						<tr class="row">
							<th class="entry" valign="top" width="25%" id="d35857e142">Header</th>

							<th class="entry" valign="top" width="25%" id="d35857e145">Supported Values</th>

							<th class="entry" valign="top" width="25%" id="d35857e148">Description of Use</th>

							<th class="entry" valign="top" width="25%" id="d35857e151">Required</th>

						</tr>

					</thead>

					<tbody class="tbody">
						<tr class="row">
							<td class="entry" valign="top" width="25%" headers="d35857e142 ">Accept</td>

							<td class="entry" valign="top" width="25%" headers="d35857e145 ">Comma-delimited list of media types or media type
								patterns.</td>

							<td class="entry" valign="top" width="25%" headers="d35857e148 ">Indicates to the server what media type(s) this client is
								prepared to accept.</td>

							<td class="entry" valign="top" width="25%" headers="d35857e151 ">Recommended</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="25%" headers="d35857e142 ">Authorization</td>

							<td class="entry" valign="top" width="25%" headers="d35857e145 "><samp class="ph codeph">Basic</samp> plus username and password (per RFC
								2617).</td>

							<td class="entry" valign="top" width="25%" headers="d35857e148 ">Identifies the authorized user making this request.</td>

							<td class="entry" valign="top" width="25%" headers="d35857e151 ">No, unless secured</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="25%" headers="d35857e142 ">Content-Length</td>

							<td class="entry" valign="top" width="25%" headers="d35857e145 ">Body Length (in bytes)</td>

							<td class="entry" valign="top" width="25%" headers="d35857e148 ">Describes the size of the message body.</td>

							<td class="entry" valign="top" width="25%" headers="d35857e151 ">Yes, on requests that contain a message body.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="25%" headers="d35857e142 ">Content-Type</td>

							<td class="entry" valign="top" width="25%" headers="d35857e145 ">Content type</td>

							<td class="entry" valign="top" width="25%" headers="d35857e148 ">Describes the representation and syntax of the request message
								body.</td>

							<td class="entry" valign="top" width="25%" headers="d35857e151 ">Yes, on requests that contain a message body.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="25%" headers="d35857e142 ">Host</td>

							<td class="entry" valign="top" width="25%" headers="d35857e145 ">Origin host name</td>

							<td class="entry" valign="top" width="25%" headers="d35857e148 ">Required to allow support of multiple origin hosts at a single IP
								address.</td>

							<td class="entry" valign="top" width="25%" headers="d35857e151 ">All requests</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="25%" headers="d35857e142 ">X-YYYYY-Client-Specification-Version</td>

							<td class="entry" valign="top" width="25%" headers="d35857e145 ">String</td>

							<td class="entry" valign="top" width="25%" headers="d35857e148 ">Declares the specification version of the YYYYY API that this
								client was programmed against.</td>

							<td class="entry" valign="top" width="25%" headers="d35857e151 ">No </td>

						</tr>

					</tbody>

				</table>
</div>

		
		</div>

		
		
		<div class="section"><h2 class="title sectiontitle">HTTP response codes</h2>
			<p class="p">The Couchbase Server  returns one of the following HTTP status codes in response to REST API
				requests:</p>

			
			
<div class="tablenoborder"><table cellpadding="4" cellspacing="0" summary="" class="table" frame="border" border="1" rules="all">
					
					
					<thead class="thead" align="left">
						<tr class="row">
							<th class="entry" valign="top" width="50%" id="d35857e275">HTTP response</th>

							<th class="entry" valign="top" width="50%" id="d35857e278">Description</th>

						</tr>

					</thead>

					<tbody class="tbody">
						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d35857e275 ">200 OK</td>

							<td class="entry" valign="top" width="50%" headers="d35857e278 ">Successful request and an HTTP response body returns. If this
								creates a new resource with a URI, the 200 status will also have a
								location header containing the canonical URI for the newly created
								resource.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d35857e275 ">201 Created</td>

							<td class="entry" valign="top" width="50%" headers="d35857e278 ">Request to create a new resource is successful, but no HTTP
								response body returns. The URI for the newly created resource
								returns with the status code.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d35857e275 ">202 Accepted</td>

							<td class="entry" valign="top" width="50%" headers="d35857e278 ">The request is accepted for processing, but processing is not
								complete. Per HTTP/1.1, the response, if any, SHOULD include an
								indication of the request’s current status, and either a pointer to
								a status monitor or some estimate of when the request will be
								fulfilled.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d35857e275 ">204 No Content</td>

							<td class="entry" valign="top" width="50%" headers="d35857e278 ">The server fulfilled the request, but does not need to return a
								response body.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d35857e275 ">400 Bad Request</td>

							<td class="entry" valign="top" width="50%" headers="d35857e278 ">The request could not be processed because it contains missing or
								invalid information, such as validation error on an input field, a
								missing required value, and so on.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d35857e275 ">401 Unauthorized</td>

							<td class="entry" valign="top" width="50%" headers="d35857e278 ">The credentials provided with this request are missing or
								invalid.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d35857e275 ">403 Forbidden</td>

							<td class="entry" valign="top" width="50%" headers="d35857e278 ">The server recognized the given credentials, but you do not
								possess proper access to perform this request.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d35857e275 ">404 Not Found</td>

							<td class="entry" valign="top" width="50%" headers="d35857e278 ">URI provided in a request does not exist.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d35857e275 ">405 Method Not Allowed</td>

							<td class="entry" valign="top" width="50%" headers="d35857e278 ">The HTTP verb specified in the request (DELETE, GET, HEAD, POST,
								PUT) is not supported for this URI.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d35857e275 ">406 Not Acceptable</td>

							<td class="entry" valign="top" width="50%" headers="d35857e278 ">The resource identified by this request cannot create a response
								corresponding to one of the media types in the Accept header of the
								request.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d35857e275 ">409 Conflict</td>

							<td class="entry" valign="top" width="50%" headers="d35857e278 ">A create or update request could not be completed, because it
								would cause a conflict in the current state of the resources
								supported by the server. For example, an attempt to create a new
								resource with a unique identifier already assigned to some existing
								resource.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d35857e275 ">500 Internal Server Error</td>

							<td class="entry" valign="top" width="50%" headers="d35857e278 ">The server encountered an unexpected condition which prevented it
								from fulfilling the request.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d35857e275 ">501 Not Implemented</td>

							<td class="entry" valign="top" width="50%" headers="d35857e278 ">The server does not currently support the functionality required
								to fulfill the request.</td>

						</tr>

						<tr class="row">
							<td class="entry" valign="top" width="50%" headers="d35857e275 ">503 Service Unavailable</td>

							<td class="entry" valign="top" width="50%" headers="d35857e278 ">The server is currently unable to handle the request due to
								temporary overloading or maintenance of the server. </td>

						</tr>

					</tbody>

				</table>
</div>

		</div>

	</div>

	
	<nav class="related-links">
<div class="linklist linklist">
<div><a class="link" href="../XDCR/xdcr-intro.html" title="XDCRは、主に災害復旧のために、あるクラスタのデータを別のクラスタに複製します。">クロスデータセンターレプリケーション（XDCR）</a></div>
<div><a class="link" href="../Views/views-intro.html" title="Couchbase views enable indexing and querying of data.">Views and indexes</a></div>
<div><a class="link" href="../CLI/cbcli-intro.html" title="The couchbase-cli tool is used to perform operations on an entire cluster.">couchbase-cli tool</a></div>
<div><a class="link" href="http://docs.couchbase.com/" target="_blank">Couchbase SDKs</a></div>
<div><a class="link" href="http://www.ietf.org/rfc/rfc4627.txt" target="_blank">http://www.ietf.org/rfc/rfc4627.txt</a></div>
<div><a class="link" href="http://www.json.org" target="_blank">www.json.org</a></div></div>
</nav>

</body>
</html>